# タモツ コンセプトノート

## 1. サービス概要
- サービス名: **タモツ**（自分を“保つ”ための個人向けモチベーション支援ツール）
- 利用想定: 35 歳男性・妻の会社に所属。秋の繁忙期を 2 ヶ月で乗り切ることが直近のゴール。
- 利用デバイス: iPhone（いつでも・どこでも入力と通知を受ける）、Mac（腰を据えて整理・振り返り）
- ゴール: 仕事に対するモチベーションが最低な状態から「毎日やることを把握し、進め、感情の揺れに対処できる」状態に戻す。

## 2. 目指す状態（Success Criteria）
- 毎朝 5 分でタスクを確認し、優先度と着手タイミングが明確になっている。
- 「やらない理由」を記録・可視化し、週 2 回以上は解決アクションを実行できている。
- 進捗メモ／振り返りを日次で 80% 以上実施。
- 2 ヶ月後に「タスクの滞留」によるストレスが 50% 以上軽減したと自己評価できる。

## 3. ペルソナ（自分の棚卸し）
- 名前: 仮に "O" さん。
- 状況: 妻の会社に所属、成果責任へのプレッシャー大。タスクの可視化ができず内面が混乱。
- 課題: 
  - やる気が湧かずリスト化すら困難。
  - タスクの重さ/曖昧さが不安を呼び、先送りが常態化。
  - 誰にも相談できず、自己対話手段がない。
- 強み: 技術の力を借りればセルフマネジメントを再構築できると信じている。

## 4. コア課題とプロダクト解決方針
| 課題 | 解決方針 |
| --- | --- |
| タスクを机上に載せられない | iPhone で「思いついた瞬間 10 秒入力」UI と、Mac でまとめて整える編集 UI を用意 |
| タスクが重く感じて動けない | タスク登録時に「小ゴール（最初の 15 分で出来ること）」を半強制入力 |
| 理由が曖昧なまま先送り | 「やれない理由プリセット」＋自由入力 → 原因タグ化で自動集計 |
| 感情が整わない | 朝・昼・夜の短いチェックインで状態を見える化。ポジティブな一言リマインド |
| 行動が続かない | 未来の自分へのメッセージ、週次レビューで小さな達成を再確認 |

## 5. 体験設計
### 5.1 iPhone（即時入力と通知）
- ウィジェット or クイックアクションで「タスク追加」「気分記録」を 3 タップ以内で完了。
- 通知: 時間ベース（朝 8 時/昼 13 時/夜 22 時）＋状況ベース（未処理タスクが 5 件超）。
- ショートカットアプリ連携で音声入力 → タスク登録。

### 5.2 Mac（整理と深掘り）
- 「今日やること」「先送り中」「完了アーカイブ」をカンバン表示。
- やれない理由の履歴をチャート化し、クリックで過去の対処法メモを即参照。
- 週次レビュー画面: 目標進捗、感情トレンド、次週のフォーカス 3 点を決定。

### 5.3 データ共有・同期
- iCloud（CloudKit）を第一候補。Apple ID 1 つで iPhone と Mac をリアルタイム同期。
- 代替案: Supabase/PostgreSQL（既存リポジトリのナレッジを活かし、将来 Web 対応も視野）。
- オフライン時はローカルキャッシュ（SwiftData または CoreData）に保存し、接続時に差分同期。

## 6. 機能要件
### 6.1 MVP（2 ヶ月以内に実装したい最低限）
1. タスク登録（タイトル、期限、カテゴリ、最初の 15 分アクション）。
2. やれない理由記録（プリセット選択 + 詳細メモ）。
3. 日次チェックイン（気分 5 段階、体調、ひとこと）。
4. 自動リマインド（朝・昼・夜）とその通知テンプレート。
5. カレンダー風のタスク一覧（今日 / 明日 / 今週）表示。
6. クラウド同期（最低限: 同期ずれ防止のタイムスタンプ/削除フラグ管理）。

### 6.2 追加機能（安定後のフェーズ）
- 週次レビュー生成（AI 補助で文章サマリー）。
- タスク・気分の相関グラフ。
- 行動プランナー（やれない理由に応じて推奨アクションを提案）。
- 日報エクスポート（Markdown / PDF）で外部共有。
- Apple Watch 簡易入力＆通知。

## 7. モチベーション支援メカニズム
- **原因タグ分析**: 先送り理由を「不安」「情報不足」「体力」「氣持ちの落ち込み」などタグ化し、1 週間で多いものをダッシュボード表示。
- **対処テンプレート**: 各タグに紐づく「試したい小アクション」を事前に 3 個登録。選んだアクションを todo 化。
- **未来の自分メモ**: 夜のチェックイン時に翌朝の自分へ 1 行メッセージ。朝の通知で表示。
- **リワードログ**: やれた瞬間に自分を褒める 1 行ログ → 週次レビューで表示。

## 8. 技術アーキテクチャ案
### 8.1 アプリ構成
- SwiftUI マルチプラットフォームターゲット（iOS 17 / macOS 14 以上）
- データ層: SwiftData（ローカル） + CloudKit 同期、または CoreData + CloudKit。
- モジュール構成: `App`（UI）、`Domain`（ユースケース/モデル）、`Data`（リポジトリ・同期）、`Analytics`（タグ集計）。

### 8.2 GitHub リポジトリ構成（例）
```
/README.md
/docs/tamotsu-concept.md
/apps/
  ├─ ios/（iPhone 専用ビルド設定）
  ├─ macos/
  └─ shared/（Swift パッケージ。モデル/ビュー/ロジックを共通化）
/backend/
  └─ supabase/（CloudKit を使わない場合のサーバー・スキーマ）
/scripts/（コード整形・テスト）
```
- GitHub Projects を活用し、MVP → 拡張のロードマップ管理。
- GitHub Actions: `xcodebuild test` を PR 時に実行して回帰防止。

### 8.3 外部サービス
- **通知**: iOS/macOS のローカル通知。将来的に重要度の高いタスクは push（CloudKit + CKSubscriptions）。
- **バックアップ**: 定期的に CloudKit のエクスポート（`ckexport` スクリプト） or Supabase の `pg_dump` を GitHub Actions で暗号化保存。

## 9. データモデル（暫定）
| テーブル | フィールド | 説明 |
| --- | --- | --- |
| `Task` | `id`, `title`, `detail`, `dueDate`, `priority`, `firstAction`, `status`, `reasonTagLatest`, `createdAt`, `updatedAt` | タスク本体 |
| `ReasonLog` | `id`, `taskId`, `reasonTag`, `note`, `energyLevel`, `createdAt` | やれない理由の記録。タグ分析用 |
| `CheckIn` | `id`, `slot`(morning/noon/night), `moodScore`, `energyScore`, `note`, `createdAt` | 日次チェックイン |
| `ActionPlan` | `id`, `reasonTag`, `title`, `description`, `isActive`, `createdAt` | 対処テンプレート |
| `RewardLog` | `id`, `taskId`, `message`, `createdAt` | 成功時の自己承認ログ |

## 10. MVP 開発ロードマップ（目安 8 週間）
1. **Week 1-2**: プロジェクト初期化（SwiftUI マルチプラットフォーム雛形、データモデル定義、CloudKit 構成）。
2. **Week 3-4**: タスク CRUD + 小ゴール入力、一覧画面、同期テスト。
3. **Week 5**: やれない理由記録フロー、タグ集計の MVP。
4. **Week 6**: 日次チェックイン UI + 通知。
5. **Week 7**: 週次レビュー画面（簡易版）とバグフィックス。
6. **Week 8**: ベータ運用（自分で 2 週間使い改善点洗い出し）。

## 11. 継続運用アイデア
- 週次で GitHub Issues を見直し、「タモツの振り返り Issue」を立ててログを残す。
- 自分以外のテスターを迎える前に、データエクスポートとリセット機能を整備。
- 感情のブレが大きい日は「緊急避難セット」（呼吸法／連絡すべき人リスト）を表示する仕掛けを追加検討。

## 12. 即やるアクション
1. このドキュメントをベースに GitHub リポジトリを初期化し、Issues に MVP ロードマップを分解登録。
2. SwiftUI マルチプラットフォームテンプレートで雛形プロジェクトを作成し、`Task` モデルとローカル保存だけ先に実装。
3. 1 週間の試用期間を設定し、実際のタスクを入力 → 足りない機能を都度 Issue 化。
